<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>게시판</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script type="text/javascript">
	window.onload = function(){
		document.querySelector("#btnUpdate").onclick = function(){
			if(upfrm.name.value === ""){
				alert("작성자를 입력하시오")
				upfrm.name.focus()
				return
			}
			if(upfrm.up_passwd.value === ""){
				alert("비밀번호를 입력하시오")
				upfrm.up_passwd.focus()
				return
			}			
			//나머지 입력자료 검사는 생략
			
			upfrm.submit();
		}
	}
</script>
</head>
<body>
	<body style="margin:20px">
		<h2>**게시글 수정**</h2>
		<form action="/board/updateok" method="post" name="upfrm">{% csrf_token %}
		<input type="hidden" name="id" value={{data_one.id}} />
			<table class="table" style="width: 95%">
				<tr>
					<td>작성자 : </td>
					<td><input type="text" name="name" value={{data_one.name}}></td>
				</tr>
				<tr>
					<td>비밀번호 : </td>
					<td><input type="text" name="up_passwd"><span style="color: red">{{msg}}</span></td> <!-- 원래는 password 타입 -->
				</tr>
				<tr>
					<td>이메일 : </td>
					<td><input type="email" name="mail"  value={{data_one.mail}}></td>
				</tr>
				<tr>
					<td>글제목 : </td>
					<td><input type="text" name="title" style="width : 99%"  value={{data_one.title}}></td>
				</tr>
				<tr>
					<td>글내용 : </td>
					<td>
						<textarea name="cont" rows="5" style="width : 99%">{{data_one.cont}}</textarea>
					</td>
				</tr>
				<tr>
					<td colspan="2" style="text-align: center;">
						<input type="button" value="수정" id="btnUpdate" class="btn-primary">
						<input type="button" value="이전" class="btn-warning" onclick="history.back()">
					</td>
				</tr>								
			</table>
		</form>
	</body>
</body>
</html>